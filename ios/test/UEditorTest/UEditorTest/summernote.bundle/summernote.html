<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Summernote</title>

<!-- include libraries(jQuery, bootstrap) -->
<link href="bootstrap.min.css" rel="stylesheet">
<script src="jquery.min.js"></script>
<script src="bootstrap.min.js"></script> 
<!-- include summernote css/js-->
<link href="summernote.css" rel="stylesheet">
<script src="summernote.min.js"></script>
</head>
<body>
<div id="summernote" style="width:100%;height:100%"></div>
<script>
$(document).ready(function() {
 $('#summernote').summernote({
  focus: true,
  placeholder: 'write here...',
  // set focus to editable area after initializing summernote
  toolbar: [
    ['misc', ['undo', 'redo']],
    //['style', ['style']],
    ['font', ['bold', 'italic', 'underline', 'strikethrough','superscript', 'subscript', 'clear']],
    ['fontname', ['fontname']],
    ['fontSIZE', ['fontsize']],
    ['color', ['color']],
    ['para', ['ul', 'ol', 'paragraph']],
    ['height', ['height']],
    ['table', ['table']],
    ['insert', ['link', 'picture', 'hr']],
    ['view', ['codeview']],
    //['help', ['help']],
    ['mybutton', ['insertImage', 'insertHtml']]
  ],
  callbacks: {
    onInit: function(e) {
      $("#summernote").summernote("fullscreen.toggle");
    }
    //,

    //onChange: function(contents, $editable) {
    //  console.log('onChange:', contents, $editable);
    //  var arr = [];
    //    arr.push("onChange:");
    //    arr.push("内容为：");
    //    arr.push(contents);
    //    alert(arr.join("\n"));
    //}

  },
  buttons: {
    insertImage: InsertImageBtn,
    insertHtml: InsertHtmlBtn,
    //inputHtml: InputHtmlBtn,
    //orangeForeColor: OrangeForeColorBtn
  }
});
});


var InsertImageBtn = function (context) {
  var ui = $.summernote.ui;

  // create button
  var button = ui.button({
    contents: '<i class="fa fa-child"/> 自定按钮:插入天校图片Url',
    tooltip: '自定按钮:插入天校图片Url',
    click: function () {
    context.invoke('editor.insertImage', 'http://test-img.gsxservice.com/81_xvle7ck2.jpeg', '81_xvle7ck2.jpeg');
    //insertImg();
    }
  });

  return button.render();   // return button as jquery object
}

var InsertHtmlBtn = function (context) {
  var ui = $.summernote.ui;

  // create button
  var button = ui.button({
    contents: '<i class="fa fa-child"/> 自定义按钮:插入预置的Html',
    tooltip: '自定义按钮:插入预置的Html',
    click: function () {
      context.invoke('editor.pasteHTML', '<div style="text-align: center; "><span style="font-size: 18px;">﻿</span><span style="font-size: 24px;">﻿<font color="#ff0000"><b>预置的HTML测试页面</b></font></span></div><ol><li><b>粗体</b></li><li><i>斜体</i></li><li><u>下划线</u></li><li><strike>删除线</strike></li><li><span style="background-color: rgb(255, 255, 0);">黄色背景</span></li><li><font color="#ff0000">红色字体</font></li><li style="line-height: 3;">三倍行间距</li><li style="line-height: 3;">链接：<a href="http://www.genshuixue.com/">跟谁学</a></li><li style="line-height: 3;">图片（http://test-img.gsxservice.com/81_xvle7ck2.jpeg）<img src="http://test-img.gsxservice.com/81_xvle7ck2.jpeg" data-filename="81_xvle7ck2.jpeg" style="width: 400px;"></li></ol><p><br></p><p style="line-height: 3;"><br></p><p><br></p><p style="line-height: 3;"><br></p><p><br></p><p><br></p><p><br></p><div><br></div><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p>');
    }
  });

  return button.render();   // return button as jquery object
}

//    var InputHtmlBtn = function (context) {
//        var ui = $.summernote.ui;
//
//        // create button
//        var button = ui.button({
//                contents: '<i class="fa fa-child"/> 自定义输入Html',
//                tooltip: '自定义输入Html',
//                click: function () {
//            var value = prompt('输入html代码', '');
//            context.invoke('editor.pasteHTML', value);
//        }
//        });
//
//        return button.render();   // return button as jquery object
//    }

//    var OrangeForeColorBtn = function (context) {
//        var ui = $.summernote.ui;
//
//        // create button
//        var button = ui.button({
//                contents: '<i class="fa fa-child"/> 自定义跟谁学橙色字',
//                tooltip: '自定义跟谁学橙色字',
//                click: function () {
//            context.invoke('editor.foreColor', '#ffa800');
//        }
//        });
//
//        return button.render();   // return button as jquery object
//    }
    function insertImg(){
        //$("#summernote").summernote("insertImage", "http://test-img.gsxservice.com/81_xvle7ck2.jpeg", "81_xvle7ck2.jpeg");
        context.invoke('editor.insertImage', 'http://test-img.gsxservice.com/81_xvle7ck2.jpeg', '81_xvle7ck2.jpeg');
    }
</script>
</body>
</html>